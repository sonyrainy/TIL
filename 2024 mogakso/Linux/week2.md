- 파일접근 권한
접근권한의 종류는 읽기, 쓰기, 실행이 있다.
  - 읽기 : 파일을 읽거나 복사할 수 있다. ls 명령으로 디렉터리 목록을 볼 수 있다. ls 명령의 옵션은 실행 권한이 있어야 사용 가능하다.
  - 쓰기 : 파일을 수정/이동/삭제할 수 있다(디렉터리에 쓰기 권한이 있어야 함). 파일을 생성하거나 삭제할 수 있다.
  - 실행 : 파일을 실행할 수 있다. cd 명령을 사용할 수 있다. 파일을 디렉터리로 이동하거나 복사할 수 있다.
 
- 접근 권한 표기 방법

```
user1@myubuntu:~$ ls -l /etc/hosts
-rw-r--r-- 1 root root 223 12얼 7 21:37 /etc/hosts
// rw- : 소유자, r-- : 그룹, r-- : 기타 사용자
```

![image](https://github.com/sonyrainy/TIL/assets/91364766/ac3062b3-1fae-4188-9f97-63b117c5cc70)

접근 권한과 의미는 위 표와 같다.

```
rwxrwxrwx : 아무나 가능하다.
rwx------ : 소유자만 읽기/쓰기/실행권한을 가지고 있다. 그룹과 기타 사용자는 아무 권한이 없다.
```

- chmod : 접근 권한 변경을 명령한다.
- 
```
chmod [옵션] 권한 파일(디렉터리)
//옵션 -R : 하위 디렉터리까지 모두 변경이 가능하다.
```

```chmod [사용자 카테고리 문자] [연산자 기호] [접근 권한 문자] 파일명```와 같은 방식으로 사용한다.

  - 사용자 카테고리 문자 : u(파일 소유자), g(파일 소유 그룹), o(소유자와 그룹 이외 기타 사용자), a(전체 사용자)
  - 연산자 기호 : +(권한 부여), -(권한 제거), =(접근 권한 설정)
  - 접근 권한 문자 : r(읽기 권한), w(쓰기 권한), x(실행 권한)

ex) 권한 표기

```
u+w : 소유자(u)에게 쓰기(w) 권한 부여(+)
u-w : 소유자(u)의 실행(x) 권한 제거(-)
o-r : 기타 사용자(o)의 읽기(r) 권한 제거(-)
u+x, go+w : 소유자(u)에게 실행(x) 권한을 부여하고(+) 그룹(g)과 기타 사용자(o)에게 쓰기(w) 권한 부여(+)
```

ex) chmod 활용 예시
![image](https://github.com/sonyrainy/TIL/assets/91364766/10836603-0ed2-447b-ba6f-e079b10c66ad)

- 숫자를 이용한 파일 접근 권한 변경
![image](https://github.com/sonyrainy/TIL/assets/91364766/b0de683b-4d44-4be8-abba-433f9bda844e)


- umask : 특정 디렉터리에서 파일 및 디렉터리 생성 시, 권한을 자동으로 설정하기 위한 명령어이다. mask 값을 설정하여 생성될 파일 및 디렉터리 권한을 설정할 수 있다. 기본 접근 권한을 출력하거나 변경한다.

```
umask [옵션] [마스크값]
옵션 -S : 마스크 값을 문자로 출력한다.
```

mask 값이 002라면, 기타 사용자의 쓰기권한은 부여하지 않는다.

mask 값은 파일이나 디렉터리 생성 시 부여하지 않을 권한을 지정해놓은 것이다. 마스크 값이 002라면, 접근권한의 숫자모드로 해석 시 ```----w--w-```이라고 볼 수 있다.

![image](https://github.com/sonyrainy/TIL/assets/91364766/e3eae5f4-9f2a-40c5-92b3-f8f472fc1929)

mask 값은 파일이나 디렉터리 생성 시 부여하지 않을 권한을 지정해놓은 것이다. 마스크 값이 022라면 접근 권한의 숫자모드로 해석 시 
```----w--w-```이다.

mask 값이 아래 표와 같다면, 일반 파일의 접근권한, 디렉터리 접근권하도 마찬가지 아래와 같을 것이다. 

+) 일반 파일의 최대접근권한은 666, 디렉터리 최대 접근권한은 777이다.

```
마스크값 | 일반파일 | 디렉터리 | 의미
  002       644       755       그룹과 기타 사용자는 읽기만 가능하다.  
  077       600       700       그룹과 기타 사용자의 접근 권한을 모두 제거한다.
  027       640       750       그룹은 읽기/실행만 가능하고, 기타 사용자의 접근 권한을 모두 제거한다.
```

ex) chmod 등 예제

```
touch set.exe => 빈파일 생성
chmod 755 set.exe => 파일소유자에게 읽기 쓰기, 실행 권한 부여, 그룹과 다른 사용자들에게는 읽기와 실행권한만 부여. set.exe 파일에 해당 권한 적용
ls -l set.exe => set.exe 파일 정보확인

chmod 4755 set.exe => 4755는 755의 역할을 하면서, SetUID 비트를 설정.한다. 
ls -l set.exe

+) SetUID : 맨 앞자리가 4(소유자), 맨 앞자리가 2(그룹)
```

- 예제 : 사용자와 그룹에 실행권한을 부여하기 위한 명령으로 맞지 않은 것은?
```
1. chmod u+x, g+x test.txt
2. chmod 554 test.txt
3. chmod ug+x test.txt
4. chmod 664 test.txt (v)
```

- 프로세스 관리
  - 프로세스 : 현재 시스템에서 실행 중인 프로그램이다. 리눅스는 다중 프로세스 시스템으로 동시에 여러 프로세스를 실행한다.

+) 리눅스의 모든 프로세스는 부모-자식 관계가 있다. 부모 프로세스가 자식 프로세스를 생성한다.

```
PID : 프로세스가 할당받는 유일한(고유한) 프로세스 식별 번호
UID : 프로세스를 소유하는 사용자 계정을 식별하는 번호
PPID : 부모 프로세스의 ID
```
  - 프로세스의 종류 데몬/고아/좀비 :
데몬 : 특정 서비스를 제공하기 위해 존재하며, 리눅스 커널에 의해 실행된다.(ssh 데몬)
고아 : 자식 프로세스가 아직 실행 중인데 부모 프로세스가 먼저 종료되면 자식 프로세스는 고아 프로세스가 된다.
좀비 : 자식 프로세스가 실행을 종료했는데도, 프로세스 테이블 목록에 남아있는 경우가 있는데 해당 경우 자식 프로세스를 좀비 프로세스라고 한다. 좀비 프로세스가 증가하면 프로세스 테이블 용량 부족으로 정상 프로세스가 실행되지 않을 수 있다.

- ps : 현재 실행 중인 프로세스에 대한 정보를 출력한다.(프로세스 목록 확인)
  - 유닉스(SVR4) 옵션(가장 많이 사용된다.) : 묶어서 사용 가능하고, -으로 시작한다.(ex) -ef)
  - BSD 옵션 : 묶어서 사용 할 수 있고, -으로 시작하지 않는다.(ex) aux)
  - GNU 옵션 : - 두 개로 시작한다.(ex) --pid)

+) -f 옵션 : PPID와 C(CPU 사용량), 시작 시간 등의 정보가 추가로 출력한다.
![image](https://github.com/sonyrainy/TIL/assets/91364766/0b37677c-8b82-4ef1-b58b-895378aa24bb)

+) -a 옵션 : 터미널에서 실행시킨 프로세스 정보를 출력한다.
